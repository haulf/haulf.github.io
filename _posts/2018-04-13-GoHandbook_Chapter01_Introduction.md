---
layout: post
title:  "Go教程-chapter01 Go语言介绍"
date:   2018-04-13 08:08:04
categories: Go语言编程
tags: Go 
excerpt: Go让人感觉像是Python或Ruby这样的动态语言，但却又拥有像C或者Java这类语言的高性能和安全性。Go语言出现的目的是希望在编程领域创造最实用的方式来进行软件开发。
---

* content
{:toc}


## 1 前言

随着软件规模的不断扩大，在使用C++开发大型的服务端软件时，遇到了很多困难，比如开发难度大、耗费大量的时间编译等。以下是软件开发人员讨论得出的对编程语言的设计要求：

- 能够以更快的速度开发软件。

- 开发出的软件能够很好地在现代的多核计算机上工作。

- 开发出的软件能够很好地在网络环境下工作。

- 使人们能够享受软件开发的过程。

Go语言就在这样的背景下诞生了，它让人感觉像是Python或Ruby这样的动态语言，但却又拥有像C或者Java这类语言的高性能和安全性。Go语言出现的目的是希望在编程领域创造最实用的方式来进行软件开发。它并不是要用奇怪的语法和晦涩难懂的概念来从根本上推翻已有的编程语言，而是建立并改善了C、Java、C#中的许多语法风格。它提倡通过接口来进行面向对象编程，通过goroutine和channel来支持并发和并行编程等。

## 2 Go语言的起源、发展和普及

### 2.1 起源与发展

Go语言起源2007年，并于2009年正式对外发布。它从2009年9月21日开始作为谷歌公司20%兼职项目，该项目的三位领导者均是著名的IT工程师：
- Robert Griesemer，参与开发Java HotSpot虚拟机；
- Rob Pike，Go语言项目总负责人，贝尔实验室Unix团队成员，参与的项目包括Plan 9、Inferno操作系统和Limbo编程语言；
- Ken Thompson，贝尔实验室Unix团队成员，C语言、Unix和Plan 9的创始人之一，与Rob Pike共同开发UTF-8字符集规范。自2008年1月起，Ken Thompson就开始研发一款以C语言为目标结果的编译器来拓展Go语言的设计思想。

在2008年年中，Go语言的设计工作接近尾声，一些员工开始以全职工作状态投入到这个项目的编译器和运行实现上。Ian Lance Taylor也加入到了开发团队中，并于2008年5月创建了一个gcc前端。RussCox加入开发团队后着手语言和类库方面的开发，也就是Go语言的标准包。

在2009年10月30日，Rob Pike以 Google Techtalk的形式第一次向人们宣告了Go语言的存在。直到2009年11月10 日，开发团队将Go语言项目以BSD-style授权（完全开源）正式公布在Linux和Mac OS X平台上的版本。Hector Chu于同年11月22日公布了Windows版本。

### 2.2 主要特性、发展环境和影响因素

#### 2.2.1 影响Go语言发展的早期编程语言

Go语言和C++、Java和C#一样属于C系。设计者们汲取了其它编程语言的精粹部分融入到Go语言当中。在声明和包的设计方面，Go语言受到Pascal、Modula和Oberon系语言的影响；在并发原理的设计上，Go语言从同样受到Tony Hoare的CSP（Communicating Squential Processes）理论影响的Limbo和Newsqueak的实践中借鉴了一些经验，并使用了和Erlang类似的机制。

#### 2.2.2 为什么要创造一门新的编程语言

- C/C++的发展速度无法跟上计算机发展的脚步，十多年来也没有出现一门与时代相符的主流系统编程语言，因此人们需要一门新的系统编程语言来弥补这个空缺，尤其是在计算机信息时代。
- 对比计算机性能的提升，软件开发领域不被认为发展地足够快或者比硬件发展更加成功，同时应用程序的体积始终在不断地扩大，这就迫切地需要一门具备更高层次概念的低级语言来突破现状。
- 在Go语言出现之前，开发者们总是面临非常艰难的抉择，究竟是使用执行速度快但是编译速度并不理想的语言（如：C++），还是使用编译速度较快但执行效率不佳的语言（如：.NET、Java），或者说开发难度较低但执行速度一般的动态语言呢？显然，Go语言在这3个条件之间做到了最佳的平衡：快速编译、高效执行、易于开发。

#### 2.2.3 Go语言的发展目标

- Go语言的主要目标是将静态语言的安全性、高效性与动态语言的易开发性进行有机结合，达到完美平衡，从而使编程变得更加有乐趣。因此，Go语言是一门类型安全和内存安全的编程语言。虽然在Go语言中仍有指针的存在，但并不允许进行指针运算。
- Go语言的另一个目标是对于网络通信、并发和并行编程的极佳支持，从而更好地利用大量的分布式和多核的计算机。设计者通过goroutine这种轻量级线程的概念来实现这个目标，然后通过channel来实现各个goroutine之间的通信。它们实现了分段栈增长和goroutine在线程基础上多路复用技术的自动化。这个特性显然是Go语言最强有力的部分，不仅支持了日益重要的多核与多处理器计算机，也弥补了现存编程语言在这方面所存在的不足。
- Go语言一个重要特性就是它的构建速度，包括编译和链接到机器代码的速度。一般情况下构建一个程序的时间只需要数百毫秒到几秒。这是Go相对于C++的一个很重要的优势，提高了开发者的生产力。
- 依赖管理是现今软件开发的一个重要组成部分，但是C语言中“头文件”的概念却导致越来越多因为依赖关系而使得构建一个大型的项目需要长达几个小时的时间。人们越来越需要一门具有严格的、简洁的依赖关系分析系统从而能够快速编译的编程语言。这正是Go语言采用包模型的根本原因，这个模型通过严格的依赖关系检查机制来加快程序构建的速度，提供了非常好的可量测性。
- Go语言在执行速度方面也可以与C/C++相提并论。
- 由于内存问题（通常称为内存泄漏）长期以来一直伴随着C++的开发者们，Go语言的设计者们认为内存管理不应该是开发人员所需要考虑的问题。因此尽管Go语言像其它静态语言一样执行本地代码，但它依旧运行在某种意义上的虚拟机，以此来实现高效快速的垃圾回收（使用了一个简单的标记-清除算法）。
- Go语言还能够在运行时进行反射相关的操作。
- 能够使用go install能够很轻松地对第三方包进行部署。
- 支持调用由C语言编写的海量库文件，从而能够将过去开发的软件进行快速迁移。

#### 2.2.4 指导设计原则

- Go语言通过减少关键字的数量（25个）来简化编码过程中的混乱和复杂度。干净、整齐和简洁的语法也能够提高程序的编译速度，因为这些关键字在编译过程中少到甚至不需要符号表来协助解析。这些方面的工作都是为了减少编码的工作量。
- Go语言有一种极简抽象艺术家的感觉，因为它只提供了一到两种方法来解决某个问题，这使得开发者们的代码都非常容易阅读和理解。众所周知，代码的可读性是软件工程里最重要的一部分。这些设计理念没有建立其它概念之上，所以并不会因为牵扯到一些概念而将某个概念复杂化，它们之间是相互独立的。
- Go语言有一套完整的编码规范，可以在Go语言编码规范页面进行查看。它不像Ruby那样通过实现过程来定义编码规范。作为一门具有明确编码规范的语言，它要求可以采用不同的编译器如gc和gccgo进行编译工作，这对语言本身拥有更好的编码规范起到很大帮助。
- LALR是Go语言的语法标准，也可以在src/cmd/internal/gc/go.y 中查看到，这种语法标准在编译时不需要符号表来协助解析。

#### 2.2.5 语言的特性

- Go语言从本质上（程序和结构方面）来实现并发编程。
- 在Go语言中没有类和继承的概念，它和Java或C++看起来并不相同。但是它通过接口（interface）的概念来实现多态性。Go语言有一个清晰易懂的轻量级类型系统，在类型之间也没有层级之说。因此可以说这是一门混合型的语言。在传统的面向对象语言中，使用面向对象编程技术显得非常的臃肿，它们总是通过复杂的模式来构建庞大的类型层级，这违背了编程语言应该提升生产力的宗旨。
- Go语言使用静态类型，所以它是类型安全的一门语言，加上通过构建到本地代码，程序的执行速度也非常快。
- 作为强类型语言，隐式的类型转换是不被允许的，记住一条原则：**让所有的东西都是显式的**。
- Go语言有一些动态语言的特性，表现在关键字var。
- Go语言支持交叉编译，比如说可以在运行Linux系统的计算机上开发运行下Windows下运行的应用程序。
- Go是第一门完全支持UTF-8的编程语言，这不仅体现在它可以处理使用UTF-8编码的字符串，就连它的源码文件格式都是使用的UTF-8编码。Go语言做到了真正的国际化！
- 标准类库，规范统一。
- 易于部署。
- 文档全面。
- 免费开源。

#### 2.2.6 语言的用途

- Go语言被设计成一门应用于搭载Web服务器、存储集群或类似用途的巨型中央服务器的系统编程语言。对于高性能分布式系统领域而言，Go语言无疑比大多数其它语言有着更高的开发效率。它提供了海量并行的支持，这对于游戏服务端的开发而言是再好不过了。
- Go语言一个非常好的目标就是实现所谓的复杂事件处理（CEP），这项技术要求海量并行支持，高度的抽象化和高性能。当进入到物联网时代，CEP必然会成为人们关注的焦点。但是Go语言同时也是一门可以用于实现一般目标的语言，例如对于文本的处理、前端展现、甚至像使用脚本一样使用它。
- 越来越多的大型分布式应用程序都开始使用Go语言来开发。

#### 2.2.7 关于特性缺失

许多能够在大多数面向对象语言中使用的特性Go语言都没有支持，但其中的一部分可能会在未来被支持。
- 为了简化设计，不支持函数重载和操作符重载。
- 为了避免在C/C++开发中的一些Bug和混乱，不支持隐式转换。
- Go语言通过另一种途径实现面向对象设计来放弃类和类型的继承。
- 尽管在接口的使用方面可以实现类似变体类型的功能，但本身不支持变体类型。
- 不支持动态加载代码。
- 不支持动态链接库。
- 不支持泛型。
- 通过recover和panic来替代异常机制。
- 不支持断言。
- 不支持静态变量。
